<h1>Convertisseur Vidéo</h1>

<%= form_with(url: convert_path, local: true, multipart: true) do |form| %>
  <div>
    <%= form.label :input_file, "Fichier vidéo" %>
    <%= form.file_field :input_file, accept: 'video/*', id: 'videoFile', required: true %>
  </div>

  <div>
    <%= form.label :output_format, "Format de sortie" %>
    <%= form.select :output_format, options_for_select([['WebM', 'webm'], ['MP4', 'mp4']]), {}, { id: 'outputFormat' } %>
  </div>

  <div>
    <%= form.label :output_filename, "Nom du fichier de sortie" %>
    <%= form.text_field :output_filename, placeholder: 'video_convertie' %>
  </div>

  <%= form.submit "Convertir", id: 'convertButton' %>
<% end %>

<div id="progressContainer" class="mt-3 d-none">
  <div class="progress">
    <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
  </div>
</div>

<div id="result" class="mt-3"></div>
